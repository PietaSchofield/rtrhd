% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/gold_load_ludir.R
\name{gold_load_lookup_txt}
\alias{gold_load_lookup_txt}
\title{Load lookup .txt files into DuckDB (folder-based rules)}
\usage{
gold_load_lookup_txt(
  lookups_dir,
  con,
  txt_glob = "*.txt",
  recreate_non_txtfiles = TRUE
)
}
\arguments{
\item{lookups_dir}{Root directory containing lookup files.}

\item{con}{A \link[DBI]{DBIConnection} to DuckDB.}

\item{txt_glob}{Glob for lookup files. Default \code{"*.txt"}.}

\item{recreate_non_txtfiles}{If \code{TRUE}, drop & recreate \code{lu_<filename>} tables.
Default \code{TRUE}.}
}
\value{
Invisibly, a list with components \code{created_tables} and \code{txtfiles_rows}.
}
\description{
Recursively walks \code{lookups_dir}. For every \code{.txt} file:
\itemize{
\item If the file is under a directory named \code{TXTFILES} (case-insensitive),
its rows are appended to a consolidated table \code{lu_txtfiles(key, code, type,
        description)}.  Here, \code{key} is the filename (no extension, lower/safe), \code{code} is
the first column value, \code{type} is the header name of the second column, and
\code{description} is the second column value.  \item Otherwise, a table named
\code{lu_<filename>} (lower/safe) is created/replaced and the file is
bulk-loaded with DuckDB \code{COPY}. All columns are \code{VARCHAR}.
}
}
